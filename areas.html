<!doctype HTML>
<html>
<head>
<title>Mass Casualty Incident Simulation</title>
<script type="text/javascript" src="js/jquery.js"></script>
<!-- tag definition -->
<script type="text/javascript" src="js/persons.js"></script>
<script type="text/javascript">

	var people = [];
	$(document).ready(function(){
	
		//set a timer to retrieve localstorage into people every x seconds
	
		if(localStorage.people != undefined){
		
			//http://stackoverflow.com/questions/2010892/storing-objects-in-html5-localstorage
			var retrievedObject = localStorage.getItem('people');
			//console.log(retrievedObject);
			//console.log('retrievedObject: ', JSON.parse(retrievedObject));
			people = JSON.parse(retrievedObject);
			console.log("There are:" + people.length + " people");
			
			for(var i in people){
				console.log(i);
				switch(people[i].triage_status){
					case('none'):
						console.log("Person " + i + " does not have a triage status.");
						break;
					case('deceased'):
						console.log("Person " + i + " is deceased.");
						//add to black tarp
						break;
					case('immediate'):
						console.log("Person " + i + " is immediate.");
						//add to red tarp
						break;
					case('delayed'):
						console.log("Person " + i + " is delayed.");
						//add to yellow tarp
						break;
					case('minor'):
						console.log("Person " + i + " is minor.");
						//add to green tarp
						break;
					default:
						console.log("Person " + i + " does not have a triage status.");
						break;
				}
			}
			
		}
		
		var canvas = document.getElementById('canvas1');

	});

</script>
<style type="text/css">@import "css/style.css";</style>
<style type="text/css">

#green_tarp {background-color: green; opacity: 0.3; }
#yellow_tarp {background-color: yellow; opacity: 0.3; }
#red_tarp {background-color: red; opacity: 0.3; }
#black_tarp {background-color: black; opacity: 0.3; }

</style>

</head>
<body>

<h1 id="title">Areas</h1>
<table>
<tr>
<td>
<h2>Green Tarp</h2>
<div class="tarp">
	<canvas id="green_tarp" height="200px" width="300px" ></canvas>
</div>
</td>
<td>
<h2>Yellow Tarp</h2>
<div class="tarp">
	<canvas id="yellow_tarp" height="200px" width="300px" ></canvas>
</div>
</td>
</tr>
<tr>
<td>
<h2>Red Tarp</h2>
<div class="tarp">
	<canvas id="red_tarp" height="200px" width="300px" ></canvas>
</div>
</td>
<td>
<h2>Black Tarp</h2>
<div class="tarp">
	<canvas id="black_tarp" height="200px" width="300px" ></canvas>
</div>
</td>
</tr>
</table>


</body>
</html>
